# ğŸ¤ è´¡çŒ®æŒ‡å—

æ„Ÿè°¢æ‚¨å¯¹ DramaCraft é¡¹ç›®çš„å…³æ³¨ï¼æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºä»£ç ã€æ–‡æ¡£ã€æµ‹è¯•ã€é—®é¢˜åé¦ˆå’ŒåŠŸèƒ½å»ºè®®ã€‚

## ğŸ“‹ ç›®å½•

- [å¼€å‘ç¯å¢ƒè®¾ç½®](#å¼€å‘ç¯å¢ƒè®¾ç½®)
- [ä»£ç è§„èŒƒ](#ä»£ç è§„èŒƒ)
- [æäº¤æµç¨‹](#æäº¤æµç¨‹)
- [æµ‹è¯•è¦æ±‚](#æµ‹è¯•è¦æ±‚)
- [æ–‡æ¡£è´¡çŒ®](#æ–‡æ¡£è´¡çŒ®)
- [é—®é¢˜åé¦ˆ](#é—®é¢˜åé¦ˆ)
- [åŠŸèƒ½å»ºè®®](#åŠŸèƒ½å»ºè®®)

## ğŸ› ï¸ å¼€å‘ç¯å¢ƒè®¾ç½®

### ç³»ç»Ÿè¦æ±‚

- **Python**: 3.9 æˆ–æ›´é«˜ç‰ˆæœ¬
- **æ“ä½œç³»ç»Ÿ**: macOSã€Windowsã€Linux
- **å†…å­˜**: å»ºè®® 8GB æˆ–æ›´å¤š
- **å­˜å‚¨**: è‡³å°‘ 2GB å¯ç”¨ç©ºé—´

### å¿…éœ€å·¥å…·

```bash
# 1. å®‰è£… uv (æ¨èçš„åŒ…ç®¡ç†å™¨)
curl -LsSf https://astral.sh/uv/install.sh | sh

# 2. å®‰è£… Git
# macOS: brew install git
# Ubuntu: sudo apt install git
# Windows: https://git-scm.com/download/win

# 3. å®‰è£…ç³»ç»Ÿä¾èµ–
# macOS: brew install ffmpeg
# Ubuntu: sudo apt install ffmpeg libopencv-dev
# Windows: ä¸‹è½½ FFmpeg å¹¶æ·»åŠ åˆ° PATH
```

### é¡¹ç›®è®¾ç½®

```bash
# 1. Fork å¹¶å…‹éš†é¡¹ç›®
git clone https://github.com/YOUR_USERNAME/dramacraft.git
cd dramacraft

# 2. è®¾ç½®ä¸Šæ¸¸ä»“åº“
git remote add upstream https://github.com/agions/dramacraft.git

# 3. å®‰è£…ä¾èµ–
uv sync --all-extras

# 4. å®‰è£…å¼€å‘å·¥å…·
uv add --dev pre-commit
uv run pre-commit install

# 5. éªŒè¯å®‰è£…
uv run dramacraft --version
uv run pytest --version
```

### ç¯å¢ƒé…ç½®

```bash
# 1. å¤åˆ¶ç¯å¢ƒé…ç½®æ¨¡æ¿
cp .env.example .env

# 2. ç¼–è¾‘é…ç½®æ–‡ä»¶
# å¡«å…¥æ‚¨çš„ LLM API å¯†é’¥å’Œå…¶ä»–é…ç½®
```

## ğŸ“ ä»£ç è§„èŒƒ

### Python ä»£ç é£æ ¼

æˆ‘ä»¬ä½¿ç”¨ä»¥ä¸‹å·¥å…·ç¡®ä¿ä»£ç è´¨é‡ï¼š

- **Black**: ä»£ç æ ¼å¼åŒ–
- **Ruff**: ä»£ç æ£€æŸ¥å’Œå¯¼å…¥æ’åº
- **mypy**: ç±»å‹æ£€æŸ¥
- **pytest**: æµ‹è¯•æ¡†æ¶

### ä»£ç è§„èŒƒè¦æ±‚

1. **ç±»å‹æ³¨è§£**: æ‰€æœ‰å‡½æ•°å’Œæ–¹æ³•å¿…é¡»æœ‰å®Œæ•´çš„ç±»å‹æ³¨è§£
2. **æ–‡æ¡£å­—ç¬¦ä¸²**: ä½¿ç”¨ä¸­æ–‡ç¼–å†™è¯¦ç»†çš„ docstring
3. **å˜é‡å‘½å**: ä½¿ç”¨è‹±æ–‡å‘½åï¼Œéµå¾ª snake_case é£æ ¼
4. **æ³¨é‡Š**: å…³é”®é€»è¾‘ä½¿ç”¨ä¸­æ–‡æ³¨é‡Šè¯´æ˜
5. **é”™è¯¯å¤„ç†**: é€‚å½“çš„å¼‚å¸¸å¤„ç†å’Œæ—¥å¿—è®°å½•

### ä»£ç æ£€æŸ¥

```bash
# è¿è¡Œæ‰€æœ‰ä»£ç æ£€æŸ¥
uv run pre-commit run --all-files

# å•ç‹¬è¿è¡Œå„é¡¹æ£€æŸ¥
uv run black --check src tests
uv run ruff check src tests
uv run mypy src
```

### ä»£ç æ ¼å¼åŒ–

```bash
# è‡ªåŠ¨æ ¼å¼åŒ–ä»£ç 
uv run black src tests
uv run ruff check --fix src tests
```

## ğŸ”„ æäº¤æµç¨‹

### åˆ†æ”¯ç­–ç•¥

- **main**: ä¸»åˆ†æ”¯ï¼ŒåŒ…å«ç¨³å®šçš„ç”Ÿäº§ä»£ç 
- **develop**: å¼€å‘åˆ†æ”¯ï¼ŒåŒ…å«æœ€æ–°çš„å¼€å‘ä»£ç 
- **feature/***: åŠŸèƒ½åˆ†æ”¯ï¼Œç”¨äºå¼€å‘æ–°åŠŸèƒ½
- **bugfix/***: ä¿®å¤åˆ†æ”¯ï¼Œç”¨äºä¿®å¤é—®é¢˜
- **hotfix/***: çƒ­ä¿®å¤åˆ†æ”¯ï¼Œç”¨äºç´§æ€¥ä¿®å¤

### æäº¤æ­¥éª¤

```bash
# 1. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
git checkout -b feature/your-feature-name

# 2. è¿›è¡Œå¼€å‘
# ... ç¼–å†™ä»£ç  ...

# 3. è¿è¡Œæµ‹è¯•
uv run pytest
uv run pre-commit run --all-files

# 4. æäº¤æ›´æ”¹
git add .
git commit -m "feat: æ·»åŠ æ–°åŠŸèƒ½æè¿°"

# 5. æ¨é€åˆ†æ”¯
git push origin feature/your-feature-name

# 6. åˆ›å»º Pull Request
# åœ¨ GitHub ä¸Šåˆ›å»º PRï¼Œå¡«å†™è¯¦ç»†æè¿°
```

### æäº¤ä¿¡æ¯è§„èŒƒ

ä½¿ç”¨ [Conventional Commits](https://www.conventionalcommits.org/) è§„èŒƒï¼š

```
<ç±»å‹>[å¯é€‰èŒƒå›´]: <æè¿°>

[å¯é€‰æ­£æ–‡]

[å¯é€‰è„šæ³¨]
```

**ç±»å‹è¯´æ˜ï¼š**
- `feat`: æ–°åŠŸèƒ½
- `fix`: ä¿®å¤é—®é¢˜
- `docs`: æ–‡æ¡£æ›´æ–°
- `style`: ä»£ç æ ¼å¼è°ƒæ•´
- `refactor`: ä»£ç é‡æ„
- `test`: æµ‹è¯•ç›¸å…³
- `chore`: æ„å»ºæˆ–è¾…åŠ©å·¥å…·æ›´æ”¹

**ç¤ºä¾‹ï¼š**
```
feat(llm): æ·»åŠ è…¾è®¯æ··å…ƒå¤§æ¨¡å‹æ”¯æŒ

- å®ç°è…¾è®¯æ··å…ƒ API å®¢æˆ·ç«¯
- æ·»åŠ ç›¸åº”çš„é…ç½®é€‰é¡¹
- æ›´æ–°å·¥å‚æ–¹æ³•ä»¥æ”¯æŒæ–°æä¾›å•†

Closes #123
```

## ğŸ§ª æµ‹è¯•è¦æ±‚

### æµ‹è¯•ç±»å‹

1. **å•å…ƒæµ‹è¯•**: æµ‹è¯•å•ä¸ªå‡½æ•°æˆ–ç±»çš„åŠŸèƒ½
2. **é›†æˆæµ‹è¯•**: æµ‹è¯•æ¨¡å—é—´çš„äº¤äº’
3. **ç«¯åˆ°ç«¯æµ‹è¯•**: æµ‹è¯•å®Œæ•´çš„å·¥ä½œæµç¨‹
4. **æ€§èƒ½æµ‹è¯•**: æµ‹è¯•ç³»ç»Ÿæ€§èƒ½å’Œèµ„æºä½¿ç”¨

### æµ‹è¯•è¦†ç›–ç‡

- **æœ€ä½è¦æ±‚**: 80% ä»£ç è¦†ç›–ç‡
- **ç›®æ ‡**: 90% ä»£ç è¦†ç›–ç‡
- **å…³é”®æ¨¡å—**: 95% ä»£ç è¦†ç›–ç‡

### è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
uv run pytest

# è¿è¡Œç‰¹å®šæ¨¡å—æµ‹è¯•
uv run pytest tests/test_llm_integration.py

# è¿è¡Œæµ‹è¯•å¹¶ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
uv run pytest --cov=dramacraft --cov-report=html

# è¿è¡Œæ€§èƒ½æµ‹è¯•
uv run pytest tests/performance/ -v
```

### ç¼–å†™æµ‹è¯•

```python
import pytest
from dramacraft.llm.baidu import BaiduLLMClient

class TestBaiduLLMClient:
    """ç™¾åº¦LLMå®¢æˆ·ç«¯æµ‹è¯•ã€‚"""
    
    @pytest.fixture
    def client(self):
        """åˆ›å»ºæµ‹è¯•å®¢æˆ·ç«¯ã€‚"""
        config = {"api_key": "test", "secret_key": "test"}
        return BaiduLLMClient(config)
    
    @pytest.mark.asyncio
    async def test_generate_success(self, client):
        """æµ‹è¯•æˆåŠŸç”Ÿæˆã€‚"""
        # æµ‹è¯•é€»è¾‘
        pass
```

## ğŸ“š æ–‡æ¡£è´¡çŒ®

### æ–‡æ¡£ç±»å‹

1. **API æ–‡æ¡£**: æ¨¡å—å’Œå‡½æ•°çš„è¯¦ç»†è¯´æ˜
2. **ä½¿ç”¨æ•™ç¨‹**: åŠŸèƒ½ä½¿ç”¨çš„æ­¥éª¤æŒ‡å—
3. **æ¶æ„æ–‡æ¡£**: ç³»ç»Ÿè®¾è®¡å’Œæ¶æ„è¯´æ˜
4. **æ•…éšœæ’é™¤**: å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

### æ–‡æ¡£è§„èŒƒ

- **è¯­è¨€**: ä½¿ç”¨ä¸“ä¸šçš„ä¸­æ–‡æŠ€æœ¯å†™ä½œ
- **æ ¼å¼**: Markdown æ ¼å¼ï¼Œéµå¾ªç»Ÿä¸€çš„æ ·å¼
- **ç¤ºä¾‹**: æä¾›å®Œæ•´å¯è¿è¡Œçš„ä»£ç ç¤ºä¾‹
- **å›¾ç‰‡**: ä½¿ç”¨é«˜è´¨é‡çš„å›¾ç‰‡å’Œå›¾è¡¨

### æ–‡æ¡£æ„å»º

```bash
# å®‰è£…æ–‡æ¡£ä¾èµ–
uv add --dev mkdocs mkdocs-material

# æœ¬åœ°é¢„è§ˆæ–‡æ¡£
cd docs/website
mkdocs serve

# æ„å»ºæ–‡æ¡£
mkdocs build
```

## ğŸ› é—®é¢˜åé¦ˆ

### æŠ¥å‘Šé—®é¢˜

1. **æœç´¢ç°æœ‰é—®é¢˜**: ç¡®è®¤é—®é¢˜æœªè¢«æŠ¥å‘Š
2. **ä½¿ç”¨é—®é¢˜æ¨¡æ¿**: å¡«å†™å®Œæ•´çš„é—®é¢˜ä¿¡æ¯
3. **æä¾›è¯¦ç»†ä¿¡æ¯**: åŒ…å«é‡ç°æ­¥éª¤ã€ç¯å¢ƒä¿¡æ¯ã€é”™è¯¯æ—¥å¿—
4. **æ·»åŠ æ ‡ç­¾**: é€‰æ‹©åˆé€‚çš„é—®é¢˜ç±»å‹æ ‡ç­¾

### é—®é¢˜æ¨¡æ¿

```markdown
## é—®é¢˜æè¿°
ç®€è¦æè¿°é‡åˆ°çš„é—®é¢˜

## é‡ç°æ­¥éª¤
1. æ‰§è¡Œå‘½ä»¤ `...`
2. é…ç½®å‚æ•° `...`
3. è§‚å¯Ÿåˆ°é”™è¯¯ `...`

## é¢„æœŸè¡Œä¸º
æè¿°æœŸæœ›çš„æ­£ç¡®è¡Œä¸º

## å®é™…è¡Œä¸º
æè¿°å®é™…å‘ç”Ÿçš„è¡Œä¸º

## ç¯å¢ƒä¿¡æ¯
- æ“ä½œç³»ç»Ÿ: 
- Python ç‰ˆæœ¬: 
- DramaCraft ç‰ˆæœ¬: 
- ç›¸å…³ä¾èµ–ç‰ˆæœ¬: 

## é”™è¯¯æ—¥å¿—
```
ç²˜è´´å®Œæ•´çš„é”™è¯¯æ—¥å¿—
```

## é™„åŠ ä¿¡æ¯
å…¶ä»–å¯èƒ½æœ‰ç”¨çš„ä¿¡æ¯
```

## ğŸ’¡ åŠŸèƒ½å»ºè®®

### æå‡ºå»ºè®®

1. **æè¿°éœ€æ±‚**: æ¸…æ¥šè¯´æ˜åŠŸèƒ½éœ€æ±‚å’Œä½¿ç”¨åœºæ™¯
2. **è®¾è®¡æ–¹æ¡ˆ**: æä¾›åˆæ­¥çš„è®¾è®¡æ€è·¯
3. **å½±å“è¯„ä¼°**: åˆ†æå¯¹ç°æœ‰åŠŸèƒ½çš„å½±å“
4. **å®ç°éš¾åº¦**: è¯„ä¼°å¼€å‘å¤æ‚åº¦

### å»ºè®®æ¨¡æ¿

```markdown
## åŠŸèƒ½æè¿°
è¯¦ç»†æè¿°å»ºè®®çš„æ–°åŠŸèƒ½

## ä½¿ç”¨åœºæ™¯
è¯´æ˜åŠŸèƒ½çš„å…·ä½“ä½¿ç”¨åœºæ™¯å’Œç”¨æˆ·ä»·å€¼

## è®¾è®¡æ–¹æ¡ˆ
æä¾›åˆæ­¥çš„æŠ€æœ¯è®¾è®¡æ–¹æ¡ˆ

## API è®¾è®¡
```python
# ç¤ºä¾‹ API è®¾è®¡
def new_feature(param1: str, param2: int) -> Result:
    """æ–°åŠŸèƒ½çš„ API è®¾è®¡ç¤ºä¾‹ã€‚"""
    pass
```

## æ›¿ä»£æ–¹æ¡ˆ
æ˜¯å¦æœ‰å…¶ä»–å®ç°æ–¹å¼

## å½±å“è¯„ä¼°
å¯¹ç°æœ‰åŠŸèƒ½å’Œæ€§èƒ½çš„å½±å“
```

## ğŸ¯ å¼€å‘æœ€ä½³å®è·µ

### ä»£ç è´¨é‡

1. **å°æ­¥æäº¤**: æ¯æ¬¡æäº¤åŒ…å«å•ä¸€é€»è¾‘å˜æ›´
2. **æµ‹è¯•é©±åŠ¨**: å…ˆå†™æµ‹è¯•ï¼Œå†å†™å®ç°
3. **ä»£ç å®¡æŸ¥**: è®¤çœŸå¯¹å¾…ä»£ç å®¡æŸ¥åé¦ˆ
4. **æŒç»­é›†æˆ**: ç¡®ä¿ CI æ£€æŸ¥é€šè¿‡

### æ€§èƒ½è€ƒè™‘

1. **å¼‚æ­¥ä¼˜å…ˆ**: ä½¿ç”¨ async/await å¤„ç† I/O æ“ä½œ
2. **èµ„æºç®¡ç†**: åŠæ—¶é‡Šæ”¾èµ„æºï¼Œé¿å…å†…å­˜æ³„æ¼
3. **ç¼“å­˜ç­–ç•¥**: åˆç†ä½¿ç”¨ç¼“å­˜æå‡æ€§èƒ½
4. **ç›‘æ§æŒ‡æ ‡**: å…³æ³¨æ€§èƒ½ç›‘æ§æ•°æ®

### å®‰å…¨è¦æ±‚

1. **è¾“å…¥éªŒè¯**: éªŒè¯æ‰€æœ‰å¤–éƒ¨è¾“å…¥
2. **é”™è¯¯å¤„ç†**: é¿å…æ³„éœ²æ•æ„Ÿä¿¡æ¯
3. **ä¾èµ–ç®¡ç†**: åŠæ—¶æ›´æ–°å®‰å…¨è¡¥ä¸
4. **å¯†é’¥ç®¡ç†**: å®‰å…¨å­˜å‚¨ API å¯†é’¥

## ğŸ“ è”ç³»æ–¹å¼

- **GitHub Issues**: [é—®é¢˜åé¦ˆ](https://github.com/agions/dramacraft/issues)
- **GitHub Discussions**: [è®¨è®ºåŒº](https://github.com/agions/dramacraft/discussions)
- **é‚®ç®±**: contact@dramacraft.com

æ„Ÿè°¢æ‚¨çš„è´¡çŒ®ï¼ğŸ¬âœ¨
